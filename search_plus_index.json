{"./":{"url":"./","title":"腾讯新闻平台化能力","keywords":"","body":"腾讯新闻平台化能力 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/1.JSAPI 接入/1.JSAPI 接入指引.html":{"url":"src/Docs/1.JSAPI 接入/1.JSAPI 接入指引.html","title":"1.JSAPI 接入指引","keywords":"","body":"接入方式 1.iOS接入方式 iOS客户端湖主动注入js api，不需要页面再额外引入。 由于页面执行 客户端注入js 和 页面 js 的顺序无法保证，需要在使用 window.TencentNews 对象前，确保客户端提供的 JS API已经处于ready状态。 有两种方式可供使用： 页面可以实现 TencentNewsReady 方法，在该方法内使用 window.TencentNews 对象提供的JS API接口。 // 1. JS API ready后会执行 _TencentNewsReady_ 方法 if (typeof window._TencentNewsReady_ != 'undefined') { window._TencentNewsReady_(); } 页面可以监听 TencentNewsJSInjectionComplete 通知，在收到通知时使用 window.TencentNews 对象提供的JS API接口。 // 2. JS API ready后会发送TencentNewsJSInjectionComplete通知 var evObj = document.createEvent('HTMLEvents'); evObj.initEvent('TencentNewsJSInjectionComplete', true, true); document.dispatchEvent(evObj); 页面可以通过 injectionComplete 的值，来判断 JS API 是否已经 ready // 3. JS API ready后会将injectionComplete置为true window.TencentNews.injectionComplete = true; 2.android接入方式 在页面内调用JS API接口，只需引入如下js文件即可： http://mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1 3.API说明 调用说明 所有API通过TencentNews.invoke 调用，异步执行。 参数说明 所有API有且仅有一个 Object 类型的参数。 统一使用TencentNews.invoke 方法调用API，第一个参数为方法名，第二个参数为 Object 类型。 可以在Object 参数中设置onCallback 接收API执行完成的回调，回调方法也仅有一个Object 类型的参数，可以通过该参数获取到 errCode、errStr 以及各API单独设置的数据。 详细参数请参考API列表。 错误码说明 错误码 错误信息 说明 1001 xx is undefined JS对象未定义 1002 unsupported api: xx 不支持的接口 1003 invalid param: xx 参数错误 1004 not support in xxx native判定不支持 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/1.JSAPI 接入/2.客户端 Cookies和UserAgent.html":{"url":"src/Docs/1.JSAPI 接入/2.客户端 Cookies和UserAgent.html","title":"2.客户端 Cookies和UserAgent","keywords":"","body":"UserAgent： 通过qqnews区分，是腾讯新闻App。 Cookies 腾讯新闻登录态Cookie是种在qq.com域名下面。 腾讯新闻支持主账号和副账号登录。副账号用到的很少，一般只考虑主账号即可。 通过main_login 区分主账号的类型 main_login = wx 代表主登录账户为微信 main_login = qq 代表主登录账户为QQ 通过logintype区分主账号更细的登录类型： logintype = 1 代表 微信登陆 logintype = 11 代表 qq互联登录 logintype = 0 代表 wtlogin QQ登录 logintype = 2 代表 未登录 logintype = 4 代表 魅族登录（很少用到） logintype = 5 代表 华为登录（很少用到） 腾讯新闻H5页面内登录态Cookie格式如下： 微信登录 main_login = wx 代表主登录账户为微信。 logintype = 1 代表微信 QQ互联登录 main_login = qq 代表主登录账户为QQ。 logintype = 11 代表 qq互联登录。 WtloginQQ登录 main_login = qq 代表主登录账户为QQ。 logintype = 0 代表 wtlogin QQ登录。 发送网络请求时带的cookie样式： 微信登录 QQ互联登录 WtloginQQ登录 如何选择qq互联登录或WtLogin登录： 默认QQ互联 安卓切换WTLogin iOS切换WTLogin Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/1.JSAPI 接入/3.客户端 URL 自定义参数.html":{"url":"src/Docs/1.JSAPI 接入/3.客户端 URL 自定义参数.html","title":"3.客户端 URL 自定义参数","keywords":"","body":"待补充 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/2.Hippy 接入/1.Hippy 接入指引.html":{"url":"src/Docs/2.Hippy 接入/1.Hippy 接入指引.html","title":"1.Hippy 接入指引","keywords":"","body":"1. 接入方式 1.1. Hippy-Vue接入方式 使用Vue.Native.callNative()和Vue.Native.callNativeWithPromise()方法来调用Native中定义的方法。 re 其中Vue.Native.callNative()用于无返回值的方法调用。 Vue.Native.callNativeWithPromise()用于有返回值的方法调用，在调用方法时会传入一个Promise，Promise.resolve()用于成功回调，Promise.reject()用于失败回调。 示例如下： import Vue from 'vue'; // 获取configInfo // 带回调的调用 // QNBridge是要调用的moduleName，getConfigInfo是要调用的方法名 const getConfigInfo = () => { if (isApp()) { return Vue.Native.callNativeWithPromise('QNBridge', 'getConfigInfo'); } return new Promise((resolve) => { resolve({}); }); }; // 打印日志 // 不带回调的调用 const logMsg = (message, params) => { if (isApp()) { Vue.Native.callNative('QNBridge', 'logMsg', `${message}：${JSON.stringify(params)}`); } else { console.log(message); } }; export { getAppInfo, logMsg } 1.2. Android端接入方式 客户端在接入的时候需要继承HippyNativeModuleBase来实现自己的功能模块（Module），并在Hippy引擎初始化的时候进行注册。 Module定义示例、注册示例。 示例代码： // 注解HippyNativeModule中的name对应的是hippy-vue中调用的moduleName @HippyNativeModule(name = QNBridge.CLASS_NAME) public class QNBridge extends HippyNativeModuleBase { final static String CLASS_NAME = \"QNBridge\"; public QNBridge(HippyEngineContext context) { super(context); } // 注解HippyMethod中的name对应的是hippy-vue中调用的方法名 // promise对象用于回调 @HippyMethod(name = \"getConfigInfo\") public void getConfigInfo(HippyMap map, final Promise promise) { try { JSONObject json = new JSONObject(); json.put(\"fontScale\", 1); // 成功，回调一个JSON对象 promise.resolve(json.toString()); } catch (JSONException e) { // TODO：结构待定 失败，回调一个JSON结构？只有错误信息？ promise.reject(e.toString()); } } } 1.3. iOS端接入方式 TODO：待添加。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/2.Hippy 接入/2.Hippy 自定义组件.html":{"url":"src/Docs/2.Hippy 接入/2.Hippy 自定义组件.html","title":"2.Hippy 自定义组件","keywords":"","body":"1.QNLottieView 自定义LottieView，使用客户端Lottie及下载存储逻辑 属性名 类型 作用 scale number 根据offset调整lottie大小 （0-1） loop bool 是否循环 progress number 播放进度（0-1） 方法名 类型 作用 setPath map(String path, String key) 加载动画路径,其中key可选（ios和android资源文件不同，需区分处理） play 无参数，promise回调 开始播放Lottie stop 无参数，promise回调 停止播放Lottie updateColorAndAlpha map 更新颜色和alpha setScale number 根据offset调整lottie大小 （0-1） setProgress number 播放进度（0-1） updateColorAndAlpha 参数示例: { dayColor:{ \"diqiu_01\":\"0080FF\", \"diqiu_02\":\"0080FF\", \"tuowei_01\":\"0080FF\", \"tuowei_02\":\"0080FF\" }, dayAlpha:1, nightColor:{ \"diqiu_01\":\"0080FF\", \"diqiu_02\":\"0080FF\" }, nightAlpha:1, } 2. QNGradientView 自定义渐变颜色的view 属性名 属性key 类型 说明 渐变色 colors ARRAY（string[]） 如0080FF；最多3个，分别代表startColor,centerColor,endColor｜ 起始重点points （iOS） points ARRAY(int[]) 分别是起始的x,y以及终点x，y。比如[0.5,0,1,0] 形状（Android） shape NUMBER（int） 0-RECTANGLE【默认】；1-OVAL； 2-LINE，3-RING｜ 四角半径（Android） cornerRadius NUMBER（float） 0.0f【默认】｜ 渐变角度（Android） angle NUMBER（int） 0【默认】；必须为45的倍数，否则取0｜ 3. ViewPager 扩展 支持非全屏viewPage，支持viewPager循环滚动 由于 Android 和 iOS 实现方式区别较大，前端需要分别实现 Android viewPager 设置全屏宽度，设置pageSize为固定比例即可支持非全屏viewPage 属性名 属性key 类型 说明 item占比 pageSize float 可以设置item占viewpager的宽度百分比，取值（0.f-1.f）｜ iOS 设置 loop 属性支持循环滚动 设置 enableOffset 属性支持循环滚动，同时 viewPager 需要缩小到和 item 相同宽度，小于屏幕宽度。同时在Viewpager外包裹一层View宽度为全屏宽度，设置 overflow = hidden。 属性名 属性key 类型 说明 循环滚动 loop boolean loop = YES，支持循环滚动，滚动图片至少三张，否则不循环 ｜ 非全屏支持 enableOffset boolean enableOffset = YES，支持非全屏ViewPager ｜ 3. ScrollView 扩展 支持横滑ScrollView右侧拖拽跳转效果 iOS 属性名 属性key 类型 说明 拖拽效果样式 dragViewStyles dictionary frame、normalTittle、triggeredTittle、titleFontSize、textColor、backgroundColor｜ 拖拽触发行为 dragViewAction function 客户端触发拖拽后行为 ｜ dragViewStyles 参数示例: { frame:[0, 20, 30, 50], //左、上、宽、高 normalTittle:'查看更多', //默认展示文案 triggeredTittle:'松开查看', //拖拽时展示文案 titleFontSize:12, //文案字体大小 textColor ：[\"0080FF\",\"0080FF\"] //文案字体颜色，日间夜间 backgroundColor：[\"0080FF\",\"0080FF\"] //背景颜色，日间夜间 } Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/2.Hippy 接入/3.Hippy 架构与路由.html":{"url":"src/Docs/2.Hippy 接入/3.Hippy 架构与路由.html","title":"3.Hippy 架构与路由","keywords":"","body":"Hippy 前端架构与路由 https://git.code.oa.com/QQNews_CrossPlatform/QQNewsHippy QQNewsHippy模块分层拆分: 级别 L3 各业务模块和对应API QNCells 列表用Cell组件。包含单图、多图、无图等样式。 QNListPage 新闻列表相关组件/页面 QNDetail 新闻底层页相关组件/页面定义 L2 lib库封装、公共UI组件、公共数据传递model components/layout 通用布局封装，用于页面的状态管理、列表显示、下拉刷新、上拉加载等。如StateView、QNListView、QNRefreshWrapper components/cells Cell中不同功能部分封装。如QNCellTitle、QNCellBottomBar等。 native-components 由Native定义，Hippy注册生效的组件封装。如QNLottieView。 processors 数据获取完成到UI渲染之间的数据中间层处理，包括行数计算、标签处理、已读状态等。 L1 基础lib库 Mixins 定义封装了应用和页面级别的生命周期、Cell生命周期的钩子函数。可在需要的页面依赖并混入。 QNBridge 用于Hippy和Native的交互 QNStyles 样式定义，用于多module共同依赖 Store 封装了通用数据及配置，用于多module全局状态管理及变化监听 style-adapter 用于全局的样式适配 L0 QQNewsHippy前端组件分层和路由: QQNewsHippy客户端组件分层： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/2.Hippy 接入/4.Hippy 上报规范.html":{"url":"src/Docs/2.Hippy 接入/4.Hippy 上报规范.html","title":"4.Hippy 上报规范","keywords":"","body":"Hippy 上报 1. 大同通用上报 1. 频道上报 接入大圣系统客户端自动上报 2. 页面上报 包括页面曝光、页面时长 前端在根视图设置属性 dtPage，参数类型 HippyMap 【必选参数】： 1.pageId = pg_detail / pg_subtab 2.params 类型：字典String 参数列表 【必选】frontend_type = hippy 【必选】大同通用上报参数包 pkg pg _detail / pg subtab 【可选】业务自定义参数 客户端扩展 HippyView 支持以上属性，大同 SDK 自动上报。 3. 元素上报 包括按钮曝光点击、Cell 曝光点击 前端在根视图设置属性 dtElement,参数类型 HippyMap 其中 Cell 上报参数设置到 ListViewItem 上 【必选参数】： elementId = em_item_article（cell曝光点击） / 自定义按钮 params 类型：字典String 参数列表 【必选】frontend_type = hippy 【必选】大同通用上报参数包 【可选】业务自定义参数 客户端扩展 HippyView 支持以上属性，大同 SDK 自动上报。 客户端扩展 HippyListView，将参数加到 Cell 上，大同 SDK 自动上报。 2. 其他自定义上报 使用 bridge 提供平台能力 API - reportToBoss Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/2.Hippy 接入/5.Hippy 动态配置与跳转.html":{"url":"src/Docs/2.Hippy 接入/5.Hippy 动态配置与跳转.html","title":"5.Hippy 动态配置与跳转","keywords":"","body":"动态配置 支持动态下发hippy频道/hippy底层页/hippy页面 Mock数据规则集-hippy测试集https://capmock.qq.com/cap/RuleList qqnews://article_9500?tab=news_live&channel=qn_channel_demo qqnews://article_9527?nm=* qqnews://article_9527?nm=NEWSJUMP_91xxx Hippy频道 数据下发： chlid = qn_channel_demo channelShowType = 52 channelWebUrl = http://hippy?resId=hippy_list&component=QNListPage&isChannel=1 客户端根据数据做JSBundle路由 channelShowType 1. 52,使用Hippy频道页面 channelWebUrl 1. 客户端根据resId选择合适的业务jsbundle下载 2. 客户端传入component作为jsbundle的moduleName 前端根据客户端传入参数进行页面路由 传入pageId (即chlid) 传入完整configUrl（channelWebUrl） configInfo 字典(数据格式同getConfigInfo) defaultShowBottomBar 是否有底部bottombar（iOS需要） Hippy底层页(类似WebDetail页面) 数据下发： renderType=2 (0: native, 1: hippy, 2: hippy_detail) htmlUrl = http://hippy?resId=hippy_detail&component=QNDetail&pageId=***\" 客户端根据数据做JSBundle路由 htmlUrl 1. 客户端根据resId选择合适的业务jsbundle下载 2. 客户端传入component作为jsbundle的moduleName 前端根据客户端传入参数进行页面路由 传入pageId (文章id) 传入完整configUrl（htmlUrl） 传入完整item configInfo 字典(数据格式同getConfigInfo) defaultShowBottomBar 是否有底部bottombar（iOS需要） 支持分享控制、底部评论条控制，支持展示评论同JSApi https://iwiki.oa.tencent.com/pages/viewpage.action?pageId=135041281 scheme跳转 - Hippy页面/Hippy底层页 【Hippy页面】 qqnews://article_9527?nm=NEWSJUMP_91xxx 【Hippy底层页】 qqnews://article_9527?nm=article_id 客户端根据scheme做hippy页面的跳转 1. 对于该类型的scheme， 客户端会拉取getfullnews 2. 接入层返回renderType=1/2，表示要跳转hippy页面或hippy底层页；同时返回字段htmlUrl， e.g. htmlUrl = http://hippy?resId=***&component=***&pageId=***\" 3. 客户端根据resId选择合适的业务jsbundle下载 4. 客户端传入component作为jsbundle的moduleName 前端根据客户端传入参数进行页面路由 传入pageId 传入完整configUrl configInfo 字典(数据格式同getConfigInfo) 传入完整item defaultShowBottomBar 是否有底部bottombar（Hippy底层页，仅iOS需要） Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/3.小程序接入/1.小程序接入指引.html":{"url":"src/Docs/3.小程序接入/1.小程序接入指引.html","title":"1.小程序接入指引","keywords":"","body":"小程序整体流程 在资源发布平台 http://news.release.webdev.com/#/apps 根据协议创建资源，生成对应的资源ID。 将小程序wxapkg 包压缩并上传 ，保证小程序包名与资源ID后缀保持一致。 通过URL Scheme拼接小程序名及path即可拉起。 小程序拉起 scheme 协议 通过 qqnews://article_9528?act=msapplet 拉起小程序 参数 name：小程序名，需要对应资源平台中资源ID后缀 path：具体小程序内的启动path及参数，需要encode 例：qqnews://article_9528?act=msapplet&name=qnreader&path=pages%2Fdetail%2Fdetail%3Fbid%3D22290849000986302 线上支持小程序 小程序 iOS资源id Android资源id scheme拉起URL 阅读器 wxapkg_qnreader qqnews://article_9528?act=msapplet&name=qnreader 畅听 wxapkg_changting qqnews://article_9528?act=msapplet&name=changting Demo wxapkg_demo qqnews://article_9528?act=msapplet&name=demo Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/4.离线包接入/1.离线包接入指引.html":{"url":"src/Docs/4.离线包接入/1.离线包接入指引.html","title":"1.离线包接入指引","keywords":"","body":"腾讯新闻离线包接入指引 离线包功能，是通过将 HTML/JS/CSS 等文件打包后，腾讯新闻预先下载到客户端本地，每次加载 URL 的时候优先使用本地离线包资源，极大程度上提升页面的加载速度，摆脱网络环境的影响。目前腾讯新闻客户端离线能力已经基本覆盖一级页面中的 WebCell 和 WebView，在加载耗时和稳定性上都有了较大的优化。 快速接入 离线包基本生成和使用 针对离线场景，将已有代码进行简单的适配，比如 domain 的判断、优先展示骨架异步加载数据等。 根据规则实现配置文件 config.json ，包含资源ID，版本号以及 URL 映射关系，将代码和该文件整体打包成 .qnweb 文件。 联系客户端同学将 .qnweb 文件上传到客户端资源发布平台，后续客户端提供蓝盾标准流水线自动集成。 根据规则在原 URL 上添加参数(&qnResId=资源ID)，客户端在加载 URL 时根据该参数优先使用离线包进行展示。 详见进阶功能与原理 - 2.离线包基本生成和使用 离线包扩展能力 客户端自动维护离线包版本更新，支持动态上下线以及特殊版本控制，支持百草发文进行分发。 对于前端页面作为 Cell 形式在客户端展示，支持通过 URL 配置loading样式、默认宽高、底部分割条显隐等。 详见进阶功能与原理 - 3.离线包扩展能力 客户端调试和Debug 客户端提供全面的调试方式和场景，方便debug。 详见进阶功能与原理 - 4.客户端调试和Debug 原理与功能进阶 1. 离线包基本原理 腾讯新闻中的 Web 离线包是一个 .qnweb 格式的压缩文件，主要包含网页 HTML/JS/CSS 资源以及离线包配置文件 config.json 。 当客户端需要使用 WebView 加载 URL 展示 Web 页面时，如果客户端本地有可用的离线包资源，客户端会优先加载本地离线包资源进行展示，从而减少网络干扰、提升 Web 页面加载速度。 结合客户端资源发布平台，客户端可以完成对离线包资源版本的管理与更新；结合无为平台可以支持离线功能动态的上线、下线以及版本适配；通过客户端容错和缓存可以保证在离线资源失效的情况下使用远程资源保证展示和体验。 2. 离线包基本生成和使用 Web 同学对于现有页面，仅需要简单的适配，就可以使用腾讯新闻客户端离线包能力： 针对离线场景，将已有代码进行简单的适配，比如 cookies 注入时 domain 判断等。 根据规则实现配置文件 config.json ，将代码和该文件整体打包成 .qnweb 文件。 将 .qnweb 文件上传到客户端资源发布平台。 根据规则在 URL 上添加参数，客户端在加载 URL 时根据参数优先使用离线包进行展示。 离线包适配 因为使用离线包时，客户端加载的是本地资源而非远程，所以代码中部分判断 domain 的代码需要修改，当使用离线包加载时 domain 为 localhost。常见比如 Cookies 的注入、跨域的判断等。 部分地址的格式需要修改，比如 \"//\" 写法需要补全本地相对路径。 为了最大程度上发挥离线包的效用，从代码实现上也可以进行优化。常见的可以优先展示页面骨架，数据再通过接口进行拉取和动态更新。这样当使用离线包加载时，就可以完全不依赖网络优先展示页面，在展示后在异步的对数据进行更新。 因为 Web 页面是在腾讯新闻中使用，所以需要 Web 页面适配腾讯新闻中的 JSApi 、WebCell 展示时机和高度调整、客户端生命周期等。当然这部分能力在非离线场景也需要适配，通常不需要针对离线进行调整。如果是全新业务接入参考：https://iwiki.oa.tencent.com/pages/viewpage.action?pageId=89661064 离线包生成打包 生成配置文件 config.json。文件中实现三个字段： \"version\" 表示当前离线包版本，用与 debug 排查。 \"resId\" 是该离线包的唯一 id ，需要和客户端资源发布平台中 id 一致，首次生成之后不再变化。 \"webPath\" 代表离线包中入口文件路径和远程 URL 的映射关系。客户端会使用该字段的值作为 Prefix，处理远程 URL Path ，移除 Prefix 后的 subPath 作为离线包的入口文件。 例如： 远程 web url 为 https://news.qq.com/signin/v3/epidemit.htm // config.json 文件 { \"webPath\": \"https://news.qq.com/signin/v3/\", \"resId\": \"web_resource_epidemic_channel\", \"version\": \"1.4.0\" } 当客户端使用离线包时，将 webPath 作为 prefix 从远程 url 中删除，剩余 subpath 为 \"/epidemit.htm\"。客户端则加载离线包中的 /epidemit.htm 文件进行展示。 将实现好的配置文件 config.json ，和适配后的代码资源整体压缩成 Zip 文件，修改后缀名为 .qnweb 。 离线包发布上传 为了离线包的安全性和版本管理，目前需要专人手动上传离线包到发布平台，请将离线包打好后联系 dequanzhu 、 genesisli 代操作上传。后续会结合蓝盾形成插件以及标准流水线，业务测实现自动化构建上传。 同时该离线包的唯一 id ，为了和客户端资源发布平台中 id 一致，首次上传时需要客户端同学协助提供，后续不再变化。 离线包使用 由于离线包使用的业务越来越多，客户端考虑到用户流量不会自动下载全部离线包，整体需要在加载远程 URL 时判断是否需要，进行按需下载。这就需要注意以下两个问题： 当加载远程 url 时，需要 Web 同学在 URL 中增加参数来告知客户端，是否需要下载和使用对应离线包。当远程 URL 中包含参数 qnResId 时，客户端会解析该参数并在客户端资源平台中下载和使用对应 id 的离线包。 1. 远程 url 为https://news.qq.com/signin/v3/epidemit.htm, 客户端判断不需要使用离线包能力，直接加载远程 2. 远程 url 为https://news.qq.com/signin/v3/epidemit.htm?qnResId=web_resource_epidemic_channel, 客户端判断包含 qnResid 字段，则需要使用离线包能力，客户端自动进行离线包的使用、下载或者更新。 由于是通过 URL 中的参数按需加载，这就导致当没有缓存时，客户端需要下载完整的离线包资源而影响页面的展示速度，所以针对这种情况，当发现本地没有对应离线包缓存时，则首次优先使用远程加载，同时下载离线包到本地供下次使用，离线包版本更新亦是如此。 总的来说，当客户端加载 URL 时，发现 URL 中包含 qnResId 参数，则根据该参数的值在客户端缓存查找离线包，如果本地已经下载，则直接加载该离线包，并且同步远程查看发布平台是否有版本更新并尝试下载更新。如果本地没有离线包，则当次直接加载远程 URL 展示，同时下载离线包用于下次使用。 3. 离线包扩展能力 在普通离线包能力的基础之上，腾讯新闻结合常用的场景，不断的扩充了能力来完善离线包的灵活使用。同时设计了完整的调试能力方便 Web 测进行调试开发。 自定义 WebCell 加载样式 除了通用的 qnResId 参数，针对于在客户端展示的 WebCell 类型页面，远程 URL 支持以下参数自定义加载和展示样式 qnResId ：离线资源包 ID，当 url 中包含该字段时，客户端根绝 ID 使用或在发布平台进行离线包下载。 qnShowType：webcell 展示形式。 qnShowType = 0，默认样式，cell 先隐藏，web 加载完毕后调用 JSApi 后在列表插入展示。 qnShowType = 1，直接显示 cell，h5处理 web 的 loading UI。 qnShowType = 2，直接显示 cell，客户端默认 loading UI，web 加载完毕后调用 JSApi 后 loading 隐藏。 qnAspectRatio ：默认 webCell 宽高比。默认宽度撑满全屏，根据此参数确定初始化高度。 qnDiv：是否需要客户端添加 Cell 底部分割线。0不添加，1添加，默认1 例： https://news.qq.com/book/book-channel.html?qnResId=web_resource_novel&qnShowType=2&qnAspectRatio=0.2&qnDiv=1 对应加载资源 id 为 web_resource_novel 的离线资源，webCell 直接展示使用客户端loading，默认 Cell 高度=屏幕宽度*0.2，cell 有底部分割线。 离线包版本自动更新 离线包在资源发布平台上传时，支持设置该离线包最低以及最高支持的客户端版本区间。如无特殊情况，客户端会在当前版本支持的离线包中，使用最新（最后上传）的离线包。当然由于上文提到的按需加载原因，每次在加载该页面的时候才会去判断是否有更新，所以在离线包有更新之后，都是在客户端加载该页面的下次生效。 动态上下线和版本控制 离线包在使用过程中，如果遇到重大的 bug 或者持续频繁需求调整时，可以在不修改 URL 和离线包的情况下，通过客户端无为平台的配置，将离线功能临时下线，客户端忽略 URL 参数以及离线能力，强制使用远程加载。待 Web 侧调整稳定后，动态配置重新上线该能力。 同时若 Web URL 后的路由变化，或者重大更新时不兼容老版本离线包，也可以在不修改 URL 的情况下，通过客户端无为平台的配置，强制忽略客户端老版本历史已下载的缓存，使用最新版本的离线包。 百草发文投放 为了扩展客户端信息流更丰富的展示形态，客户端结合上下游，支持文章在信息流列表以 WebCell 样式动态展示。通过合理的离线包方案，在保证加载效果和性能的同时，丰富了展示的形态以及动态能力。目前已经支持数途、NewsBlock 等多个前端平台使用场景。 百草中生成文章类型（articleType = 225）时，通过配置展示的 URL，客户端在信息流列表中可以使用 Web 加载对应 URL 进行展示，同时遵循离线的协议支持离线包能力优化体验。 4. 客户端调试和Debug 离线 Web 开发选项 在客户端中，可以不修改离线包和 URL 地址，本地设置使用 / 禁止离线功能来进行 Debug 和对比。通知对于使用了离线包的页面，可以设置展示弹窗便于区分。 iOS：设置-Debug设置 android：设置-开发人员选项-跨平台设置 使用Web离线功能：默认开启。符合离线协议的URL，默认都会打开离线包功能，优先加载离线包。点击关闭后，关闭离线包功能全部使用线上URL加载，用于线上页面的调试。打开web离线弹窗：默认关闭。打开该开关后，符合离线协议的URL页面，当加载成功后，都会弹出Toast展示当前页面使用了离线包资源 & 线上资源，以及当前离线包的资源ID。用于线上和离线包的定位、功能对比调试等。 打开离线web调试信息：打开后，所有带qnResId的url，会在web顶部显示红字调试信息管理离线web包：禁用全局所有离线web包，全走url，方便开发阶段测试 离线Web Debug 工具 对于客户端中可以出现 Web 的三个场景：列表中的 Cell 形态、列表 Web 频道形态以及 Web 独立页面形态，客户端中都有完整的 Debug 场景进行模拟，方便查看样式，以及 JSApi 适配等。 Debug 工具入口： iOS：设置-Debug设置-自定义h5页面 android：设置-h5底层页测试 从该debug页面输入的url，如果有qnResId字段，必定优先下载离线包；没有离线包或下载失败，才用url开启 Debug 页面功能和使用： iOS debug 界面 android debug 界面 1. 输入WebURL:对应web页面的URL2. 如果需要强制加载离线包资源，打开开关3. 如果需要强制加载离线包资源，输入对应的资源ID4. 调试全屏Web底层页。点击push进入新的全屏Web底层页。5. 调试WebCell或者Web频道。点击push进入测试频道页面。 1. 输入WebURL:对应web页面的URL2. 调试全屏Web底层页。点击push进入新的全屏Web底层页。3. 调试WebCell或者Web频道。点击push进入测试频道页面。 Web底层页测试： 加载对应的URL展示Web内容，用于调试页面及通用JSApi，WebPage JS Api。 会包含 webPageManager 相关jsapi（独立底层页中 没有 webCellManager）：[https://iwiki.oa.tencent.com/pages/viewpage.action?pageId=89661064#id-%E6%96%B0%E9%97%BB%E5%AE%A2%E6%88%B7%E7%AB%AFJSAPI-WebPageAPI 列表WebCell测试： 加载一个模拟频道，默认将输入的 URL 作为 WebCell 插入到第四位。用于调试WebCell以及模拟在列表的样式，切换频道以及频道列表操作调试 WebCell JS Api。 会包含 webCellManager 相关jsapi：https://iwiki.oa.tencent.com/pages/viewpage.action?pageId=89661064#id-%E6%96%B0%E9%97%BB%E5%AE%A2%E6%88%B7%E7%AB%AFJSAPI-WebCellAPI WebView频道测试： 加载一个模拟频道，默认将输入的 URL 作为 全屏 WebView 展示成频道。用于调试Web类型的频道页。切换频道以及频道列表操作调试 WebCell JS Api。 会包含 webCellManager 相关jsapi：https://iwiki.oa.tencent.com/pages/viewpage.action?pageId=89661064#id-%E6%96%B0%E9%97%BB%E5%AE%A2%E6%88%B7%E7%AB%AFJSAPI-WebCellAPI Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Docs/5.WebCell 接入/1.WebCell 接入指引.html":{"url":"src/Docs/5.WebCell 接入/1.WebCell 接入指引.html","title":"1.WebCell 接入指引","keywords":"","body":"远程URL支持参数： qnResId：对应客户端发布系统资源ID。客户端下载对应ID离线包。 qnShowType：webcell展示形式。0. ready后插入。1. 直接显示，h5处理loading。2.直接显示，先占位图，ready后隐藏，出错出刷新view；默认0 qnAspectRatio ：默认web宽高比。默认宽度撑满全屏，根据此参数确定初始化高度。 qnDiv：是否需要客户端添加底部分割线。0不添加，1添加，默认1 例: https://news.qq.com/book/book-channel.html?qnResId=web_resource_novel&qnShowType=2&qnAspectRatio=0.2&qnDiv=1 对应加载资源id为web_resource_novel的离线资源，默认高度=屏幕宽度*0.2 资源打包 后缀名统一为 .qnweb 客户端发布系统 ：http://news.release.webdev.com/ 客户端发布系统资源ID 疫情趋势（专题） ： web_resource_epidemic 小说频道 ： web_resource_novel 热点模板 ： web_resource_newsblocks 个人中心 ： web_resource_signin 疫情趋势（要闻）：web_resource_epidemic_channel 地方频道必读榜 ：web_resource_channel_topread 小说（搜索）：web_resource_novel_search https://news.qq.com/signin/v3/index_mini_test.html?qnResId=web_resource_signin&aspectratio=0.3826530612#/cell WebCell支持列表 目前支持CapMock设置以上列表插入WebCell: 列表 图例 Capmock规则 热点追踪（同专题） https://view.inews.qq.com/a/RSS201912240140021D 热推频道 图 10 11 webcell - 热推推荐 / webcell - 热推中热推频道 专题列表 图3 4 WebCell-专题列表-头部 个人页（主页列表） 图 6 WebCell-个人页 要闻/二级频道 图1 2 WebCell-二级频道 图文底层页相关阅读 图 10 WebCell-底层页相关新闻 搜索 图 7 WebCell-搜索 视频专辑 （不能插入到顶部） 图 8 WebCell-视频专辑列表 视频底层 （不能插入到顶部） 图 9 WebCell-视频底层页 话题列表 图 5 WebCell-话题列表 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/intro.html":{"url":"src/APIs/intro.html","title":"能力总览","keywords":"","body":" 分类 能力 JSApi Hippy Applet Flutter App数据 获取客户端信息 ✔ ✔ 获取客户端配置 ✔ ✔ 获取客户端实验字段 ✔ 获取APP使用时间 ✔ 账号及登录 展示登录页面 ✔ ✔ 退出当前登录账户 ✔ ✔ 获取登录用户信息 ✔ ✔ 切换登录账号 ✔ 刷新微信accessToken ✔ ✔ 分享 直接分享到指定渠道 ✔ ✔ 展示分享浮层 ✔ ✔ 关闭分享浮层 ✔ ✔ 设置分享信息 ✔ ✔ 展示图片分享浮层 ✔ H5页面截屏分享 ✔ 禁用客户端截图分享 ✔ 存储 通用存储-写 ✔ 通用本地存储-读 ✔ 写入小程序本地存储 ✔ 读取小程序本地存储 ✔ 本地存储-写 ✔ 本地存储-读 ✔ 页面设置 设置页面标题 ✔ ✔ 设置页面右上角按钮样式 ✔ ✔ 设置页面左上角按钮样式 ✔ 设置页面左上角按钮行为 ✔ 开启/关闭右滑退出页面手势 ✔ ✔ 获取右滑退出页面手势开关状态 ✔ ✔ 设置是否支持左滑到评论区 ✔ ✔ 设置底部评论条是否可见 ✔ ✔ 设置页面是否支持旋转 ✔ ✔ 页面跳转 打开任意链接 ✔ ✔ 跳转到文章页面 ✔ 通过item进入底层 ✔ 跳转到微信小程序 ✔ 退出当前页面 ✔ 关闭webView弹窗 ✔ 打开推送历史页面 ✔ 展示图片预览页面 ✔ 切换搜索结果页指定tab ✔ 日志与上报 打印日志到native ✔ ✔ BOSS上报 ✔ ✔ 列表曝光上报 ✔ 时长上报 ✔ 时长上报附加参数 ✔ 通信与网络 客户端代发请求 ✔ ✔ 注册为接收者 ✔ 给客户端发送数据 ✔ 广播消息 ✔ App下载、检测 是否已安装APP ✔ 检查APP ✔ 启动APP ✔ 安装APP ✔ 下载APP ✔ 下载APP ✔ UI组件 展示消息提示框 ✔ ✔ 展示对话框 ✔ 检查桌面是否支持添加快捷方式 ✔ 创建桌面快捷方式 ✔ 幻灯片模式浏览图片 ✔ ✔ 推送、地理位置及权限 系统推送开关是否关闭 ✔ ✔ Push开关是否关闭 ✔ ✔ 获取地理位置 ✔ 打开本地push总开关 ✔ ✔ 打开push开关设置页面 ✔ ✔ 其它 复制文本 ✔ 调起充值面板 ✔ 批量获取是否关注了某些账号 ✔ 支付接口 ✔ 保存图片到本地 ✔ 同步红包领取信息到native ✔ 通知native举报成功 ✔ 获取安全码 ✔ 更新Item信息 ✔ 更新收藏编辑按钮 ✔ 删除本地Items ✔ WebCellAPI 页面准备完毕 ✔ 页面发生错误 ✔ H5需要调整WebCell高度 ✔ H5需要reload页面 ✔ Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:20:01 "},"src/APIs/01.App数据/0-getAppInfo.html":{"url":"src/APIs/01.App数据/0-getAppInfo.html","title":"0. 获取客户端信息","keywords":"","body":"获取客户端信息 getAppInfo JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 获取客户端信息的回调函数 回调列表： 参数名 类型 说明 systemVersion String 系统版本号(安卓6030用的int，6050起统一string) version String 客户端版本号 deviceId String 设备id uid String 设备uid omgMid String omgid omgBizid String omgBizid networkStatus String 网络状态。0-无网络、1-WiFi、2-移动网络 idfa String 设备idfa（仅iOS） imei String 设备imei（仅安卓） imsi String 设备imsi（仅Android） qimei String 灯塔 qimei statusBarHeight Number 安卓6.0.50添加，statusBar高度 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('getAppInfo', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 回调数据中deviceId 和uid 是否重复了？分别代表什么？ deviceId 为设备标识，iOS端使用最开始获得的系统idfv 作为deviceId ，并保存下来不再变化。android端在6.0以上使用androidId，6.0以下使用imei，保存下来不在变化。 uid 则为客户端额外生成的另一个唯一标识。各业务根据具体场景使用即可。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/01.App数据/1-getConfigInfo.html":{"url":"src/APIs/01.App数据/1-getConfigInfo.html","title":"1. 获取客户端配置","keywords":"","body":"获取客户端配置 getConfigInfo JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 获取客户端配置的回调函数 回调列表： 参数名 类型 必填 说明 fontScale Number 是 字体缩放倍数 themeType String 是 当前主题设置。default-默认/白天，night-黑夜模式 statusBarHeight Number 否 安卓6.0.50添加，statusBar高度 readMode String 是 文字模式/普通模式 fontSizeLevel Number 是 字体大小 , 1 2 3 4 networkStatus String 是 网络类型 serverType Number 是 服务器类型 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('getConfigInfo', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/01.App数据/2-getABTestInfo.html":{"url":"src/APIs/01.App数据/2-getABTestInfo.html","title":"2. 获取客户端实验字段","keywords":"","body":"获取客户端实验字段 getABTestInfo JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 回调列表： 参数名 类型 说明 config Dictionary 透传接口config字段 remoteConfig Dictionary 透传接口remoteConfig字段 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/01.App数据/3-appUsedSeconds.html":{"url":"src/APIs/01.App数据/3-appUsedSeconds.html","title":"3. 获取APP使用时间","keywords":"","body":"获取APP使用时间 appUsedSeconds JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 获取APP使用时间的回调函数 回调列表： 参数名 类型 必填 说明 seconds Number 是 APP使用时间（单位：秒） 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('getAppUsedSeconds', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/02.账号及登录/1-login.html":{"url":"src/APIs/02.账号及登录/1-login.html","title":"1. 展示登录页面","keywords":"","body":"展示登录页面 login JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 type String 否 登录类型 'qqorweixin'/'all'-QQ和微信登录（默认） 'qq'-QQ登录 'weixin'-微信登录 from String 否 登录来源 userInfo Object 否 额外数据，传入回调函数参数中 onCallback Function 是 回调函数 回调列表： 参数名 类型 必填 说明 isLogin Boolean 对应账号是否已登录 userInfo Object 调用接口时传入的userInfo 字段 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('login', {'type': 'qqorweixin', 'userInfo': {'id': 'fakeid'}, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 如何判断当前是否已经登录，以及当前是QQ登录还是微信登录？ 通过TencentNews.getUserInfo接口或者cookie中的logintype 字段判断（参考新闻客户端登录态cookie文档）。 如果已经登录，还能继续使用这个接口唤起登录吗？ 可以。但是不建议重复调用。 如果已登录账户符合页面要求，不建议继续通过本接口继续登录，避免给用户造成困扰。 如果已登录账号不符合页面要求，比如页面必须使用微信登录，但是当前是QQ登录，需要使用TencentNews.changeMainAccount接口替换为对应的登录类型。 登录成功后是否能立刻获得登录态数据？ 可以。如果登录成功，客户端保证在onCallback 回调之前将登录态注入到cookie中。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/02.账号及登录/2-logout.html":{"url":"src/APIs/02.账号及登录/2-logout.html","title":"2. 退出当前登录账户","keywords":"","body":"退出当前登录账户 logout JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 userInfo Object 否 额外数据，传入回调函数参数中 onCallback Function 是 获取客户端配置的回调函数 回调列表： 参数名 类型 必填 说明 userInfo Object 调用接口时传入的userInfo 字段 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('logout', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/02.账号及登录/3-getUserInfo.html":{"url":"src/APIs/02.账号及登录/3-getUserInfo.html","title":"3. 获取登录用户信息","keywords":"","body":"获取登录用户信息 getUserInfo JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 否 回调方法｜ 回调列表： 参数名 类型 必填 说明 account String 账号类型，'qq'或'weixin'，未登录为空 qq Object qq账号信息（账号类型为qq时有效） icon - QQ头像 name - QQ昵称 mediaid - 账号的id，除om号均为uin，om号没有uin, 使用mediaid媒体号 viptype - vip类型 weixin Object 微信账号信息（账号类型为weixin时有效） icon - 微信头像 name - 微信昵称 mediaid - 账号的id，除om号均为uin，om号没有uin,使用mediaid媒体号 viptype - vip类型 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('getUserInfo', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 如何判断用户是否登录？ 通过account 字段判断。account 字段为'qq'，表示qq登录；为'weixin'，表示微信登录；为空，表示当前未登录。 如何获取到详细的登录态数据，如微信的access_token等？ 本接口只提供昵称、头像等基础数据，登录态数据需要页面从cookie中获取。所有qq.com域名下的页面，客户端都会在cookie中注入登录态数据。 登录态的字段及含义，请参考 新闻客户端登录态cookie文档。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/02.账号及登录/4-changeMainAccount.html":{"url":"src/APIs/02.账号及登录/4-changeMainAccount.html","title":"4. 切换登录账号","keywords":"","body":"切换登录账号 changeMainAccount JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 type String 否 登录类型 'qqorweixin'/'all'-QQ和微信登录（默认） 'qq'-QQ登录 'weixin'-微信登录 userInfo Object 否 额外数据，传入回调函数参数中 onCallback Function 是 回调函数 回调列表： 参数名 类型 必填 说明 isLogin Boolean 对应账号是否已登录 userInfo Object 调用接口时传入的userInfo 字段 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('changeMainAccount', {'type': 'weixin', 'userInfo': {'id': 'fakeid'}, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/02.账号及登录/5-refreshWxAccessToken.html":{"url":"src/APIs/02.账号及登录/5-refreshWxAccessToken.html","title":"5. 刷新微信accessToken","keywords":"","body":"刷新微信accessToken refreshWxAccessToken JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 否 回调方法 回调列表： 参数名 类型 必填 说明 state String '0'-刷新失败，'1'-刷新成功 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('refreshWxAccessToken', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/03.分享/1-share.html":{"url":"src/APIs/03.分享/1-share.html","title":"1. 直接分享到指定渠道","keywords":"","body":"直接分享到指定渠道 share JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 destination String 是 分享渠道名 wechatFriend（微信好友） qqFriend（QQ好友） qzone（QQ空间） weibo（微博） moments（微信朋友圈） onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('share', {'destination': 'wechatFriend', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 本接口如何设置分享信息？ 分享信息统一使用TencentNews.setShareInfo接口设置，设置好分享信息之后再调用本接口。 本接口和TencentNews.showShareMenu接口有什么区别？ showShareMenu接口用于展示客户端分享浮层，并有用户选择分享渠道；本接口直接分享到对应的渠道，省去了展示分享浮层并由用户选取渠道的步骤。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/03.分享/2-showActionMenu.html":{"url":"src/APIs/03.分享/2-showActionMenu.html","title":"2. 展示分享浮层","keywords":"","body":"展示分享浮层 showActionMenu JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('showActionMenu', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 本接口如何设置分享信息？ 分享信息统一使用TencentNews.setShareArticleInfo接口设置，设置好分享信息之后再调用本接口。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/03.分享/3-dismissShareDialog.html":{"url":"src/APIs/03.分享/3-dismissShareDialog.html","title":"3. 关闭分享浮层","keywords":"","body":"关闭分享浮层 dismissShareDialog JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('dismissShareMenu', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/03.分享/4-setShareArticleInfo.html":{"url":"src/APIs/03.分享/4-setShareArticleInfo.html","title":"4. 设置分享信息","keywords":"","body":"设置分享信息 setShareArticleInfo JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 title String 是 标题 longTitle String 否 长标题（分享到朋友圈时使用） content String 是 内容 articleUrl String 是 链接 imgUrl String 否 缩略图链接 onCallback Function 否 回调方法｜ 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('setShareArticleInfo', {'title': '这是标题', 'longTitle': '这是长标题', 'content': '这是正文', 'url': 'https://www.qq.com', 'imgUrl': 'https://via.placeholder.com/150' 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Hippy中的底层页，默认不设置时走文章item的逻辑，如果设置了这个信息，优先走这里设置的。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/03.分享/5-showBigImageShareMenu.html":{"url":"src/APIs/03.分享/5-showBigImageShareMenu.html","title":"5. 展示图片分享浮层","keywords":"","body":"展示图片分享浮层 showBigImageShareMenu JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 url String 是 图片链接 share_type String 否 分享类型，用于上报 onCallback Function 是 获取客户端配置的回调函数 回调列表： 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('showBigImageShareMenu', {'url': 'https://via.placeholder.com/330', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/03.分享/6-showCaptureBigImageShareMenu.html":{"url":"src/APIs/03.分享/6-showCaptureBigImageShareMenu.html","title":"6. H5页面截屏分享","keywords":"","body":"H5页面截屏分享 showCaptureBigImageShareMenu JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 type Number 否 0-基于像素截屏（默认）1-基于百分比截屏（比如30对应30%） x Number 是 截屏起始水平位置 y Number 是 截屏起始垂直位置 width Number 是 截屏宽度 height Number 是 截屏高度 onCallback Function 否 回调方法 回调列表： 参数名 类型 必填 说明 errCode Number 是 errCode=\"-3000\"表示分享弹框消失，H5侧需关闭海报 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('showCaptureBigImageShareMenu', {'x': 50, 'y': 100, 'width': 200, 'height': 200, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/03.分享/7-disableSnapshotShare.html":{"url":"src/APIs/03.分享/7-disableSnapshotShare.html","title":"7. 禁用客户端截图分享","keywords":"","body":"禁用客户端截图分享 disableSnapshotShare JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 仅 IOS 支持， since 6.1.60 参数列表： - 回调列表： - 代码示例： %accordion%JS%accordion% window.TencentNews.invoke('disableSnapshotShare') %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/04.存储/1-setNativeData.html":{"url":"src/APIs/04.存储/1-setNativeData.html","title":"1. 通用存储-写","keywords":"","body":"通用存储-写 setNativeData JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 type String 是 js / hippy / applet name String 是 业务名称，防止key重复 data Dictionary 是 字典，每个对应key值和value值 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 errCode String \"0\" 成功 \"1\" 失败 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/04.存储/2-getNativeData.html":{"url":"src/APIs/04.存储/2-getNativeData.html","title":"2. 通用本地存储-读","keywords":"","body":"通用本地存储-读 getNativeData JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 type String 是 js / hippy / applet name String 是 业务名称，防止key重复 keys String[] 是 key值，支持传入数组进行批量查询 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 values Dictionary[string:string] 返回字典，对应传入的key以及value 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/04.存储/3-setAppletData.html":{"url":"src/APIs/04.存储/3-setAppletData.html","title":"3. 写入小程序本地存储","keywords":"","body":"写入小程序本地存储 setAppletData JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【只安卓平台支持】 【iOS可以使用系统webView local storage】 参数列表： 参数名 类型 必填 说明 appletName String 是 小程序名，小说传 qnreader data Dictionary 是 字典，每个对应key值和value值 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 errCode String \"0\" 成功 \"1\" 失败 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; var setLocalStorage = function() { window.TencentNews.invoke('setAppletData', { 'appletName': 'qnreader', 'data': {'key_1',: '我存储的测试数据', 'key_2',: '我存储的测试数据',}, 'onCallback': callback }) } %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： 数据之间通过小程序名隔离 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/04.存储/4-getAppletData.html":{"url":"src/APIs/04.存储/4-getAppletData.html","title":"4. 读取小程序本地存储","keywords":"","body":"读取小程序本地存储 getAppletData JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 appletName String 是 小程序名，小说传 qnreader keys String[] 是 key值，支持传入数组进行批量查询 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 values Dictionary[string:string] 返回字典，对应传入的key以及value 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; var getLocalStorage = function() { window.TencentNews.invoke('getAppletData', { 'appletName': 'qnreader', 'keys': ['key_1','key_2'], 'onCallback': callback }) } %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： 数据之间通过小程序名隔离 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/04.存储/5-setLocalStorage.html":{"url":"src/APIs/04.存储/5-setLocalStorage.html","title":"5. 本地存储-写","keywords":"","body":"本地存储-写 setLocalStorage JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【只安卓平台支持】 【iOS可以使用系统webView local storage】 参数列表： 参数名 类型 必填 说明 key String 是 key值 value String 是 value值 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 errCode String \"0\" 成功 \"1\" 失败 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; var setLocalStorage = function() { window.TencentNews.invoke('setLocalStorage', { 'key': 'key_1', 'value': '我存储的测试数据', 'onCallback': callback }) } %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： 数据之间通过域名隔离 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/04.存储/6-getLocalStorage.html":{"url":"src/APIs/04.存储/6-getLocalStorage.html","title":"6. 本地存储-读","keywords":"","body":"本地存储-读 getLocalStorage JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【只安卓平台支持】 【iOS可以使用系统webView local storage】 参数列表： 参数名 类型 必填 说明 key String 是 key值 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 value String key对应的值 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; var getLocalStorage = function() { window.TencentNews.invoke('getLocalStorage', { 'key': 'key_1', 'onCallback': callback }) } %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： 数据之间通过域名隔离 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/1-setTitle.html":{"url":"src/APIs/05.页面设置/1-setTitle.html","title":"1. 设置页面标题","keywords":"","body":"设置页面标题 setTitle JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 title String 否 页面标题，默认值为“腾讯新闻” onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('setTitle', {'title': '新标题', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/2-setActionBtn.html":{"url":"src/APIs/05.页面设置/2-setActionBtn.html","title":"2. 设置页面右上角按钮样式","keywords":"","body":"设置页面右上角按钮样式 setActionBtn JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 【仅支持articleType=17类型的web详情页】 【仅支持articleType=225类型的Hippy详情页】 参数列表： 参数名 类型 必填 说明 type Number 否 0 - 不展示（默认值） 1 - 右上角为分享按钮 2 - 右上角为刷新按钮 onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('setActionBtn', {'type': 1, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/3-setReturnBtn.html":{"url":"src/APIs/05.页面设置/3-setReturnBtn.html","title":"3. 设置页面左上角按钮样式","keywords":"","body":"设置页面左上角按钮样式 setReturnBtn JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【仅支持articleType=17类型的web详情页】 参数列表： 参数名 类型 必填 说明 type Number 否 0 - 只有返回按钮（默认值） 1 - 返回按钮 + 关闭按钮 onCallback Function 否 回调方法｜ 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('setReturnBtn', {'type': 0, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/4-setReturnBtnActionType.html":{"url":"src/APIs/05.页面设置/4-setReturnBtnActionType.html","title":"4. 设置页面左上角按钮行为","keywords":"","body":"设置页面左上角按钮行为 setReturnBtnActionType JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【仅支持articleType=17类型的web详情页】 参数列表： 参数名 类型 必填 说明 type Number 否 0 - 返回上一层（默认值） 1 - 直接退出页面 onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('setReturnBtnActionType', {'type': 0, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/5-setGestureQuit.html":{"url":"src/APIs/05.页面设置/5-setGestureQuit.html","title":"5. 开启/关闭右滑退出页面手势","keywords":"","body":"开启/关闭右滑退出页面手势 setGestureQuit JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 enabled Boolean 是 true-关闭右滑退出;false-开启右滑退出 onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('setGestureQuit', {'enabled': false, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 何时应该关闭右滑退出页面的功能？ 为保证客户端交互的统一，尽量不要关闭右滑退出页面的功能。 当页面与右滑退出有手势冲突时（比如页面有可滑动的轮播图），可以通过该接口关闭客户端的右滑退出页面手势。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/6-getGestureQuit.html":{"url":"src/APIs/05.页面设置/6-getGestureQuit.html","title":"6. 获取右滑退出页面手势开关状态","keywords":"","body":"获取右滑退出页面手势开关状态 getGestureQuit JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 获取开关状态的回调 回调列表： 参数名 类型 必填 说明 enabled Boolean 是 true-关闭右滑退出;false-开启右滑退出 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('getGestureQuit', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/7-setLeftScrollEnable.html":{"url":"src/APIs/05.页面设置/7-setLeftScrollEnable.html","title":"7. 设置是否支持左滑到评论区","keywords":"","body":"设置是否支持左滑到评论区 setLeftScrollEnable JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 【仅对cross文章（特殊的带评论的H5页面）有效】 参数列表： 参数名 类型 必填 说明 enable Boolean 是 是否支持左滑到评论区 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('setLeftScrollEnable', {'enable': true, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/8-setBottomBarVisibility.html":{"url":"src/APIs/05.页面设置/8-setBottomBarVisibility.html","title":"8. 设置底部评论条是否可见","keywords":"","body":"设置底部评论条是否可见 setBottomBarVisibility JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 【仅对cross文章（特殊的带评论的H5页面）有效】 【仅支持articleType=225类型的Hippy详情页】 参数列表： 参数名 类型 必填 说明 visible Boolean 是 底部评论条是否可见 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('setBottomBarVisibility', {visible': true, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/05.页面设置/9-setOrientationEnable.html":{"url":"src/APIs/05.页面设置/9-setOrientationEnable.html","title":"9. 设置页面是否支持旋转","keywords":"","body":"设置页面是否支持旋转 setOrientationEnable JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 enable Boolean 是 页面是否支持旋转 onCallback Function 是 回调函数 回调列表： 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('setOrientationEnable', {'enable': true, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/1-openUrl.html":{"url":"src/APIs/06.页面跳转/1-openUrl.html","title":"1. 打开任意链接","keywords":"","body":"打开任意链接 openUrl JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 url String 是 要跳转的链接，支持http链接和scheme onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('openUrl', {'url': 'qqnews://article_9527?nm=NEW2017032702680804', 'onCallback': callback}); TencentNews.invoke('openUrl', {'url': 'http://view.inews.qq.com/a/NEW2017032702680804', 'onCallback': callback}); TencentNews.invoke('openUrl', {'url': 'http://www.qq.com', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 如何获取页面跳转链接？ 参考腾讯新闻客户端scheme文档。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/2-showNews.html":{"url":"src/APIs/06.页面跳转/2-showNews.html","title":"2. 跳转到文章页面","keywords":"","body":"跳转到文章页面 showNews JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 id String 是 文章id from String 否 来源标识 onCallback Function 否 回调函数（仅iOS） 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('showNews', {'id': 'NEW2017032702680804', 'from': 'weixin', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/3-navigationWithItem.html":{"url":"src/APIs/06.页面跳转/3-navigationWithItem.html","title":"3. 通过item进入底层","keywords":"","body":"通过item进入底层 navigationWithItem JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 item String 是 要跳转的itemlogin pageId String 是 页面id 回调列表： - 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/4-openMiniProgram.html":{"url":"src/APIs/06.页面跳转/4-openMiniProgram.html","title":"4. 跳转到微信小程序","keywords":"","body":"跳转到微信小程序 openMiniProgram JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 name String 是 小程序的username path String 否 拉起小程序页面的可带参路径，不填默认拉起小程序首页 type int 否 小程序类型， 可选打开 开发版，体验版和正式版。0-RELEASE，1-TEST，2-PREVIEW onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 errCode String 0-成功，-1-失败 代码示例： %accordion%JS%accordion% window.TencentNews.invoke('openMiniProgram', { 'name': 'gh_e17f26a17946', 'path': 'pages/board?dest=apply&ui=simple&webankAppId=W8449698&pageTag=w001b001f008', 'type': '0', onCallback:function (ret) { alert(\"ret:\" + JSON.stringify(ret)); }}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/5-closeWebview.html":{"url":"src/APIs/06.页面跳转/5-closeWebview.html","title":"5. 退出当前页面","keywords":"","body":"退出当前页面 closeWebview JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('closeWebview', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/6-closePopupView.html":{"url":"src/APIs/06.页面跳转/6-closePopupView.html","title":"6. 关闭webView弹窗","keywords":"","body":"关闭webView弹窗 closePopupView JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 回调函数 回调列表： 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('closePopupView', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/7-gotoPushHistoryPage.html":{"url":"src/APIs/06.页面跳转/7-gotoPushHistoryPage.html","title":"7. 打开推送历史页面","keywords":"","body":"打开推送历史页面 gotoPushHistoryPage JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('gotoPushHistoryPage', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/8-previewDetailImage.html":{"url":"src/APIs/06.页面跳转/8-previewDetailImage.html","title":"8. 展示图片预览页面","keywords":"","body":"展示图片预览页面 previewDetailImage JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 index Number 否 初始索引（默认值为0） images Object 是 图片数组，具体格式见示例代码 onCallback Function 否 回调方法｜ 回调列表： - 代码示例： %accordion%JS%accordion% var images = { \"imagelist\": [ { \"url\": \"http://inews.gtimg.com/newsapp_bt/0/2300973818/1000\", \"desc\": \"四川工程职业技术学院15级艺术系学前教育一班是个比较特殊的班级，他们班总共51人，其中50人都是女生，仅有1名男生。由于明年将毕业，近日他们拍摄了一组毕业照，这名男\" }, { \"url\": \"http://inews.gtimg.com/newsapp_bt/0/2300973616/641\", \"desc\": \"班长杜泓颖介绍说，这组毕业照是由学院的“影璀摄影工作室”帮忙拍摄的。在列队组合时，作为班上的唯一例外，这名男生成为“班花”，享受特别优待，其他女生心甘情愿作为绿叶。\" }, { \"url\": \"http://inews.gtimg.com/newsapp_bt/0/2300973914/1000\", \"desc\": \"男生名叫李先强，他性格活泼开朗，虽然平时显得有些“孤单”，但跟同学们相处很融洽。李先强说：“当初报考这个专业的时候，估计男生会比较少，但入学后才发现居然只有自己一个\" }] }; var callback = function(info){ alert(info); }; TencentNews.invoke('previewDetailImage', {'index': 1, 'images': images, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/06.页面跳转/9-switchSearchTab.html":{"url":"src/APIs/06.页面跳转/9-switchSearchTab.html","title":"9. 切换搜索结果页指定tab","keywords":"","body":"切换搜索结果页指定tab switchSearchTab JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 tabId String 是 要切换的tabId onCallback Function 是 回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(JSON.stringify(info)); }; // 切换到“综合”tab TencentNews.invoke('switchSearchTab', {'tabId': 'all', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/07.日志与上报/1-writeLog.html":{"url":"src/APIs/07.日志与上报/1-writeLog.html","title":"1. 打印日志到native","keywords":"","body":"打印日志到native writeLog JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 tag String 是 日志的标签 msg String 是 日志的内容 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('writeLog', {'tag': '6', 'msg': 'load fail'}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/07.日志与上报/2-reportToBoss.html":{"url":"src/APIs/07.日志与上报/2-reportToBoss.html","title":"2. BOSS上报","keywords":"","body":"BOSS上报 reportToBoss JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 eventID String 是 上报事件名 params Object 否 上报参数 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('reportToBoss', {'eventID': 'boss_event', 'params': {'currPage': '4'}, 'onCallback', callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 本接口会带上客户端通用上报字段吗？ 会的，客户端通用上报字段请参考 http://tapd.oa.com/tencent_news/markdown_wikis/view/#1010164491010232601 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/07.日志与上报/3-reportCellExposure.html":{"url":"src/APIs/07.日志与上报/3-reportCellExposure.html","title":"3. 列表曝光上报","keywords":"","body":"列表曝光上报 reportCellExposure JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 pageId String 是 页面id index int 是 显示位置 params Dictionary 是 包含上报参数 {‘params’:’JSONString’} 回调列表： - 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/07.日志与上报/4-reportDuration.html":{"url":"src/APIs/07.日志与上报/4-reportDuration.html","title":"4. 时长上报","keywords":"","body":"时长上报 reportDuration JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 pageId String 是 页面id duration long 是 时长（秒数） params Dictionary 是 包含上报参数 {‘params’:’JSONString’} 回调列表： - 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/07.日志与上报/5-setReportParams.html":{"url":"src/APIs/07.日志与上报/5-setReportParams.html","title":"5. 时长上报附加参数","keywords":"","body":"时长上报附加参数 setReportParams JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 content Object 是 上报参数内容，客户端会将content里的key-value作为上报参数 回调列表： 属性 类型 说明 errCode String 0-成功，-1-失败 代码示例： %accordion%JS%accordion% 不判断返回值的调用方法 window.TencentNews.invoke('setReportParams',{ 'content':{ 'key1':'value1', 'key2': 'value2' } }); 判断返回值的调用方法 window.TencentNews.invoke('setReportParams',{ 'content':{ 'key1':'value1', 'key2': 'value2'}, onCallback:function (ret) { alert(\"ret:\" + JSON.stringify(ret)); } }) %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/08.通信与网络/1-sendRequest.html":{"url":"src/APIs/08.通信与网络/1-sendRequest.html","title":"1. 客户端代发请求","keywords":"","body":"客户端代发请求 sendRequest JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 url String 是 请求地址 data Object 否 请求携带的数据 method String 否 请求类型，GET或POST，默认为POST timeout Number 否 超时时间，单位秒，不传或为0时使用客户端默认超时时间（JSAPI ✔ Hippy ✘） onCallback Function 否 网络请求完成的回调函数 回调列表： 参数名 类型 必填 说明 response String 是 网络请求返回的json数据 代码示例： %accordion%JS%accordion% var callback = function(response){ alert(JSON.stringify(response)); }; TencentNews.invoke('sendRequest', {'url': 'http://r.inews.qq.com/getRecommendExtConfig', 'data': { 'params_1':'1' }, onCallback:callback}); %/accordion% %accordion%Hippy%accordion% request： 远程接口：{ method = POST; methodName = requestUrl; url = \"https://r.inews.qq.com/getLikeVideoList?type=duanshipin&page=1\"; } 本地接口： //url参数中pageId:当前频道id，isRefresh：是否下拉刷新 0-上拉加载 1-下拉刷新 2-拉首屏数据，page上拉加载page index { method = POST; methodName = requestUrl; url = \"https://fetchLocalData?pageId=mine_favourite&isRefresh=1&page=1\"; } response：JSON字符串 远程接口：{ //根据接入层协议 } 本地接口：{ errNo = 0; errMsg = success; data = \"\"; //数据，array or dictionary isEnd = 0; //是否全部数据 } %/accordion% 常见问题： 在hippy中，url中path=fetchLocalData时，根据pageId加载对应页面的本地数据，用于收藏、历史等页面。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/08.通信与网络/2-regReceiver.html":{"url":"src/APIs/08.通信与网络/2-regReceiver.html","title":"2. 注册为接收者","keywords":"","body":"注册为接收者 regReceiver JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 注册之后，H5需要实现window.TencentNewsMsgReceiver用于接受通知数据。 参数列表： 参数名 类型 必填 说明 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('regReceiver', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/08.通信与网络/3-notifyAppMsg.html":{"url":"src/APIs/08.通信与网络/3-notifyAppMsg.html","title":"3. 给客户端发送数据","keywords":"","body":"给客户端发送数据 notifyAppMsg JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 content Object 是 要发送的数据 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('notifyAppMsg', {'content': {}, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/08.通信与网络/4-broadcastMsg.html":{"url":"src/APIs/08.通信与网络/4-broadcastMsg.html","title":"4. 广播消息","keywords":"","body":"广播消息 broadcastMsg JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 content Object 是 要发送的数据 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('broadcastMsg', {}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/09.App下载、检测/1-isAppInstalled.html":{"url":"src/APIs/09.App下载、检测/1-isAppInstalled.html","title":"1. 是否已安装APP","keywords":"","body":"是否已安装APP isAppInstalled JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 scheme String 是 App scheme（仅iOS） packageName String 是 App包名（仅Android） onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 installed Boolean 是否已安装 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('isAppInstalled', {'scheme': 'weishi://', 'onCallback': callback}); TencentNews.invoke('isAppInstalled', {'packageName': 'com.tencent.weishi', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： iOS已经安装了APP，但是该接口还是返回了false？ 由于iOS系统的限制，如果没有在腾讯新闻中配置了APP对应的scheme，即使APP已经安装，腾讯新闻也无法检测到是否已安装。如果遇到此问题，请联系我们处理。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/09.App下载、检测/2-checkAppStatus.html":{"url":"src/APIs/09.App下载、检测/2-checkAppStatus.html","title":"2. 检查APP","keywords":"","body":"检查APP checkAppStatus JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【只安卓平台支持，有域名限制】 参数列表： 参数名 类型 必填 说明 appId String 是 app特定的id apkUrl String 是 安装包下载地址 packageName String 是 应用包名 logoUrl String 是 应用小图标 appName String 是 应用名称 versionCode int 是 应用版本号 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 status int 表示当前下载状态 0：未下载 1：下载中 2：暂停下载 3：下载完成 4：正在安装 5：安装完成/已安装 6：安装失败 7：需更新 8：下载任务等待中 9：下载失败| | appId | String |app特定的id| | progress| float| 表示当前下载进度比例，如0.5表示50%| 代码示例： %accordion%JS%accordion% var json = { \"appId\": \"test123456\", \"apkUrl\":\"http://dd.myapp.com/16891/CAAE58B9F18A454A4F2F0D9BF3430921.apk?fsname=com.yuyuetech.yuyue_2.2.3_7.apk\", \"packageName\": \"com.yuyuetech.yuyue\", \"appName\": \"寓悦家居\", \"logoUrl\": \"http://pp.myapp.com/ma_icon/0/icon_12261780_1457414413/256\", \"versionCode\": 1 }; var apkCallback = function (status, progress, appId) { console.log(\"status = \" + status + \", progress = \" + progress + \", appId:\" + appId); } window.TencentNews.invoke('checkAppStatus', JSON.stringify(json), \"apkCallback\"); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/09.App下载、检测/3-launchApp.html":{"url":"src/APIs/09.App下载、检测/3-launchApp.html","title":"3. 启动APP","keywords":"","body":"启动APP launchApp JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【只安卓平台支持，有域名限制】 参数列表： 参数名 类型 必填 说明 appId String 是 app特定的id apkUrl String 是 安装包下载地址 packageName String 是 应用包名 logoUrl String 是 应用小图标 appName String 是 应用名称 versionCode int 是 应用版本号 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var json = { \"appId\": \"test123456\", \"apkUrl\": \"http://dd.myapp.com/16891/CAAE58B9F18A454A4F2F0D9BF3430921.apk?fsname=com.yuyuetech.yuyue_2.2.3_7.apk\", \"packageName\": \"com.yuyuetech.yuyue\", \"appName\": \"寓悦家居\", \"logoUrl\": \"http://pp.myapp.com/ma_icon/0/icon_12261780_1457414413/256\", \"versionCode\": 1 }; window.TencentNews.invoke('launchApp', JSON.stringify(json)); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/09.App下载、检测/4-installApp.html":{"url":"src/APIs/09.App下载、检测/4-installApp.html","title":"4. 安装APP","keywords":"","body":"安装APP installApp JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【只安卓平台支持，有域名限制】 参数列表： 参数名 类型 必填 说明 appId String 是 app特定的id apkUrl String 是 安装包下载地址 packageName String 是 应用包名 logoUrl String 是 应用小图标 appName String 是 应用名称 versionCode int 是 应用版本号 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 status int 表示当前下载状态 0：未下载 1：下载中 2：暂停下载 3：下载完成 4：正在安装 5：安装完成/已安装 6：安装失败 7：需更新 8：下载任务等待中 9：下载失败| | appId | String |app特定的id| 代码示例： %accordion%JS%accordion% var json = { \"appId\": \"test123456\", \"apkUrl\": \"http://dd.myapp.com/16891/CAAE58B9F18A454A4F2F0D9BF3430921.apk?fsname=com.yuyuetech.yuyue_2.2.3_7.apk\", \"packageName\": \"com.yuyuetech.yuyue\", \"appName\": \"寓悦家居\", \"logoUrl\": \"http://pp.myapp.com/ma_icon/0/icon_12261780_1457414413/256\", \"versionCode\": 1 }; var apkCallback = function (status, appId) { console.log(\"status = \" + status + \", appId:\" + appId); } window.TencentNews.invoke('installApp', JSON.stringify(json), \"apkCallback\"); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/09.App下载、检测/5-downloadApp.html":{"url":"src/APIs/09.App下载、检测/5-downloadApp.html","title":"5. 下载APP","keywords":"","body":"下载APP downloadApp JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 appid String 否 应用在appStore的id（仅iOS需要） url String 是 应用下载链接android必填，iOS url 和appid 选填一个） packageName String 是 App包名（仅Android） appName String 是 App名称（仅Android） userInfo Object 否 额外字段，传如回调函数的参数中 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 userInfo Object 调用接口时传入的userInfo 字段 downloadPath String App保存位置（仅Android） state int 下载状态（仅Android）开始下载（未安装且未下载）：769； 下载中：774； 下载完成：772 curSize int 当前已下载的byte（仅Android） totalSize int App总大小（仅Android） 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('downloadApp', {'url': 'https://apps.apple.com/cn/app/%E8%85%BE%E8%AE%AF%E6%96%B0%E9%97%BB-%E6%89%93%E5%BC%80%E7%9C%BC%E7%95%8C/id399363156', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： 在安卓平台上，如果本地已经下载成功，则直接调用downloadApp即可安装。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/09.App下载、检测/6-downloadApp_gdt.html":{"url":"src/APIs/09.App下载、检测/6-downloadApp_gdt.html","title":"6. 下载APP","keywords":"","body":"下载APP downloadApp_gdt JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【只安卓平台支持，有域名限制】 参数列表： 参数名 类型 必填 说明 appId String 是 app特定的id apkUrl String 是 安装包下载地址 packageName String 是 应用包名 logoUrl String 是 应用小图标 appName String 是 应用名称 actionCode int 是 下载接口的操作码（1开始下载，2暂停下载） versionCode int 是 应用版本号 fileSize int 否 安装包大小（单位字节） autoInstall int 否 是否自动安装（1为自动安装，默认为1） md5 int 否 安装包的md5值 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 status int 表示当前下载状态 0：未下载 1：下载中 2：暂停下载 3：下载完成 4：正在安装 5：安装完成/已安装 6：安装失败 7：需更新 8：下载任务等待中 9：下载失败| | progress | float |表示当前下载进度比例，如0.5表示50%| | appId | String |app特定的id| 代码示例： %accordion%JS%accordion% var json = { \"appId\": \"test123456\", \"apkUrl\": \"http://dd.myapp.com/16891/CAAE58B9F18A454A4F2F0D9BF3430921.apk?fsname=com.yuyuetech.yuyue_2.2.3_7.apk\", \"packageName\": \"com.yuyuetech.yuyue\", \"appName\": \"寓悦家居\", \"logoUrl\": \"http://pp.myapp.com/ma_icon/0/icon_12261780_1457414413/256\", \"actionCode\": 1, \"versionCode\": 1, \"md5\": \"d4f73a30b8a225e53c0d56e3e1167685\" }; var apkCallback = function (status, progress, appId) { console.log(\"status = \" + status + \", progress = \" + progress + \", appId:\" + appId); } window.TencentNews.invoke('downloadApp_gdt', JSON.stringify(json), \"apkCallback\"); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/10.UI组件/1-showToast.html":{"url":"src/APIs/10.UI组件/1-showToast.html","title":"1. 展示消息提示框","keywords":"","body":"展示消息提示框 showToast JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 text String 是 提示框文案 type Number 否 提示框类型（预埋字段） onCallback Function 是 获取APP使用时间的回调函数 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('showToast', {'text': '这是一个提示框', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： 是否支持自定义提示框类型？ 客户端已经统一提示框样式，不支持自定义提示框类型。type 为预埋字段，目前设置该字段不起作用。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/10.UI组件/2-showAlert.html":{"url":"src/APIs/10.UI组件/2-showAlert.html","title":"2. 展示对话框","keywords":"","body":"展示对话框 showAlert JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 style Number 否 对话框类型（预埋字段） title String 否 对话框标题，默认标题为\"腾讯新闻\" text String 是 对话框内容 btns Array 否 按钮标题数组，默认只有一个\"确定\"按钮 userInfo Object 否 额外数据，会传入回调方法的参数中 onCallback Function 是 获取APP使用时间的回调函数 回调列表： 参数名 类型 必填 说明 btn String 用户选择的按钮 userInfo Object 调用接口时设置的userInfo字段 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('showAlert', {'text': '这是一个对话框', 'btns': ['确定', '取消'], 'userInfo': {'id': 'fakeId'} 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/10.UI组件/3-supportLauncherShortcut.html":{"url":"src/APIs/10.UI组件/3-supportLauncherShortcut.html","title":"3. 检查桌面是否支持添加快捷方式","keywords":"","body":"检查桌面是否支持添加快捷方式 supportLauncherShortcut JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 获取桌面是否支持添加快捷方式 回调列表： 参数名 类型 必填 说明 support boolean 是 桌面是否支持添加快捷方式 代码示例： %accordion%JS%accordion% window.TencentNews.invoke('supportLauncherShortcut', { onCallback: function(support) {console.log(support);} }); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/10.UI组件/4-createLauncherShortcut.html":{"url":"src/APIs/10.UI组件/4-createLauncherShortcut.html","title":"4. 创建桌面快捷方式","keywords":"","body":"创建桌面快捷方式 createLauncherShortcut JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 id String 是 快捷方式的id scheme String 是 点击后跳转的scheme name String 是 快捷方式的名字 desc String 否 快捷方式的描述 icon String 否 快捷方式的头像，缺省的话使用app icon(注意图片不能太大，128*128为宜) onCallback Function 是 快捷方式是否创建成功的回调 回调列表： 参数名 类型 必填 说明 success boolean 是 true表示启动器支持创建快捷方式。false表示不支持。注意true不能代表启动器创建快捷方式成功 代码示例： %accordion%JS%accordion% window.TencentNews.invoke('createLauncherShortcut', { id:'4', name:'test', scheme:'qqnews://article_9555?from=weixin\\&url=https%3A%2F%2Fxw.qq.com', icon:'https://www.easyicon.net/api/resizeApi.php?id=1288486&size=128', onCallback: function(success) {console.log(success);} }); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： 注意，由于该api会在用户桌面创建快捷方式，为了方式被第三方滥用，对域名进行了限制，只允许离线包、qq.com和tenpay.com调用 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/10.UI组件/5-showImageBrowser.html":{"url":"src/APIs/10.UI组件/5-showImageBrowser.html","title":"5. 幻灯片模式浏览图片","keywords":"","body":"幻灯片模式浏览图片 showImageBrowser JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 needTransfer Number 是 是否有动画 picsinfo Array 是 图片数据 picsinfo 具体参数名 类型 必填 说明 src String 是 图片URL selected Number 是 指定默认选中图片Index进行展示 1-指定index， 0-不指定 width Number 是 图片宽度 height Number 是 图片高度 left Number 是 用于动画，起始x-left right Number 是 用于动画，起始x-right top Number 是 用于动画，起始y-top bottom Number 是 用于动画，起始y-bottom 回调列表： 代码示例： %accordion%JS%accordion% TencentNews.invoke('showImageBrowser',{\"picsinfo\": [{ \"src\":\"https://httpbin.org/image/png\", \"width\":100, \"height\":100, \"left\":100, \"right\":200, \"top\":100, \"bottom\":200 }, { \"src\":\"https://httpbin.org/image/png\", \"width\":100, \"height\":100, \"left\":100, \"right\":200, \"top\":100, \"bottom\":200, \"selected\":1 }], \"needTransfer\":1}) %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/11.推送、地理位置及权限/1-isNotificationEnabled.html":{"url":"src/APIs/11.推送、地理位置及权限/1-isNotificationEnabled.html","title":"1. 系统推送开关是否关闭","keywords":"","body":"系统推送开关是否关闭 isNotificationEnabled JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 否 回调方法 回调列表： 参数名 类型 必填 说明 response String '0' - 系统推送开关关闭 '1' - 系统推送开关打开 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.isNotificationEnabled('isNotificationEnabled', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/11.推送、地理位置及权限/2-isAllPushClose.html":{"url":"src/APIs/11.推送、地理位置及权限/2-isAllPushClose.html","title":"2. Push开关是否关闭","keywords":"","body":"Push开关是否关闭 isAllPushClose JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 否 回调方法 回调列表： 参数名 类型 必填 说明 response String '0' - push开关关闭 '1' - push开关打开 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('isAllPushClose', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/11.推送、地理位置及权限/3-getCurrentLocationInfo.html":{"url":"src/APIs/11.推送、地理位置及权限/3-getCurrentLocationInfo.html","title":"3. 获取地理位置","keywords":"","body":"获取地理位置 getCurrentLocationInfo JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 是 获取APP使用时间的回调函数 回调列表： 参数名 类型 必填 说明 currentLocationInfo Object 是 地理位置信息，包括省市、 经纬度、adcode等| 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('getCurrentLocationInfo', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： 为什么有时候通过这个接口获取不到地理位置信息？ 如果客户端已经有地理位置信息，则会将地理位置信息通过回调函数传递给H5。 如果客户端当前没有地理位置信息，则会先尝试获取地理位置，如果获取成功，currentLocationInfo 字段则为地理位置信息，否则currentLocationInfo 为空。H5页面也可以通过errCode 和errStr 字段获得更加详细的信息。 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/11.推送、地理位置及权限/4-enableLocalPush.html":{"url":"src/APIs/11.推送、地理位置及权限/4-enableLocalPush.html","title":"4. 打开本地push总开关","keywords":"","body":"打开本地push总开关 enableLocalPush JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('enableLocalPush', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/11.推送、地理位置及权限/5-gotoPushSwitchSettingPage.html":{"url":"src/APIs/11.推送、地理位置及权限/5-gotoPushSwitchSettingPage.html","title":"5. 打开push开关设置页面","keywords":"","body":"打开push开关设置页面 gotoPushSwitchSettingPage JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('gotoPushSwitchSettingPage', {'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/1-copy.html":{"url":"src/APIs/12.其它/1-copy.html","title":"1. 复制文本","keywords":"","body":"复制文本 copy JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 text String 是 要复制的文本 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('copy', {'text': text, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/10-bonbeanPanel.html":{"url":"src/APIs/12.其它/10-bonbeanPanel.html","title":"1. 调起充值面板","keywords":"","body":"调起充值面板 invokeBonBeanPanel JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 needBeanAmount String 是 还需要的新豆数量 catalogId String 是 业务活动 scenesId String 是 业务场景 bizType String 是 业务类型 onCallback Function 是 获取APP使用时间的回调函数 回调列表： 参数名 类型 必填 说明 errCode Number 是 errCode=\"1\"表示参数错误，0表示成功，1表示取消 payAmount Number 是 充值成功的数量 - 代码示例： %accordion%JS%accordion% var callback = function(data){ alert(data); }; TencentNews.invoke('invokeBonBeanPanel', {'needBeanAmount': '100','bizType': '1001','scenesId': '100001','catalogId': '10000001', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/11-isFocus.html":{"url":"src/APIs/12.其它/11-isFocus.html","title":"1. 批量获取是否关注了某些账号","keywords":"","body":"批量获取是否关注了某些账号 isFocus JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 focusIds String (数组) 是 1个或多个账号id 回调列表： 参数名 类型 必填 说明 String (字典) 是 e.g. - 代码示例： %accordion%JS%accordion% %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:20:01 "},"src/APIs/12.其它/2-pay.html":{"url":"src/APIs/12.其它/2-pay.html","title":"2. 支付接口","keywords":"","body":"支付接口 JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 支付不需要使用客户端js api，可以直接使用微信的支付js api。文档如下： https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_3 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/3-saveImageToLocal.html":{"url":"src/APIs/12.其它/3-saveImageToLocal.html","title":"3. 保存图片到本地","keywords":"","body":"保存图片到本地 saveImageToLocal JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 imgUrl String 是 图片链接 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('saveImageToLocal', {'imageUrl': 'https://via.placeholder.com/150', 'onCallback': callback); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/4-syncRedpacketUpdateInfo.html":{"url":"src/APIs/12.其它/4-syncRedpacketUpdateInfo.html","title":"4. 同步红包领取信息到native","keywords":"","body":"同步红包领取信息到native syncRedpacketUpdateInfo JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 【（安卓）有域名限制】 参数列表： 参数名 类型 必填 说明 packetCount Number 否 现金红包个数 cardCount Number 否 卡片红包个数 onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('syncRedpacketUpdateInfo', {'packetCount': 6, 'cardCount': 3, 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/5-onReportSuccess.html":{"url":"src/APIs/12.其它/5-onReportSuccess.html","title":"5. 通知native举报成功","keywords":"","body":"通知native举报成功 onReportSuccess JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 type Number 否 举报类型 0 - 举报文章 1 - 举报评论 2 - 举报用户 3 - 举报广告| | data | Object | 是| 举报数据（举报评论必填，其他类型不填） cid - 文章评论id replyid - 评论id | |onCallback|Function|否|回调方法| 回调列表： - 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('onReportSuccess', {'type': 1, 'data': {'cid': '1473068305', 'replyid': '6161766195260733661'} }); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/6-getSecurityRequestCheckCode.html":{"url":"src/APIs/12.其它/6-getSecurityRequestCheckCode.html","title":"6. 获取安全码","keywords":"","body":"获取安全码 getSecurityRequestCheckCode JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 content String 是 原始字符串 onCallback Function 否 回调方法 回调列表： 参数名 类型 说明 response String 加密后的安全码 代码示例： %accordion%JS%accordion% var callback = function(info){ alert(info); }; TencentNews.invoke('getSecurityRequestCheckCode', {'content': '666', 'onCallback': callback}); %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/7-updateItem.html":{"url":"src/APIs/12.其它/7-updateItem.html","title":"7. 更新Item信息","keywords":"","body":"更新Item信息 updateItem JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 仅Hippy中支持 参数列表： 参数名 类型 必填 说明 itemId String 是 item 文章id commentId String 是 item 评论id 回调列表： - 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/8-updateEditStatus.html":{"url":"src/APIs/12.其它/8-updateEditStatus.html","title":"8. 更新收藏编辑按钮","keywords":"","body":"更新收藏编辑按钮 updateEditStatus JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 参数名 类型 必填 说明 pageId String 是 页面ID onEdit number 是 1-编辑模式 0-普通模式 enable number 是 1-允许点击 0-禁止点击 回调列表： - 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/12.其它/9-deleteFavoriteItems.html":{"url":"src/APIs/12.其它/9-deleteFavoriteItems.html","title":"9. 删除本地Items","keywords":"","body":"删除本地Items deleteFavoriteItems JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 【仅Hippy在历史收藏页面支持】 参数列表： 参数名 类型 必填 说明 deleteIds String 是 需要删除的文章id数组 pageId String 是 页面pageID onCallback Function 否 回调方法 回调列表： - 代码示例： %accordion%JS%accordion% %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/13.WebCellAPI/1-onWebCellReady.html":{"url":"src/APIs/13.WebCellAPI/1-onWebCellReady.html","title":"1. 页面准备完毕","keywords":"","body":"页面准备完毕 onWebCellReady JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ WebCell场景支持 H5页面准备完毕时，主动调用该方法，通知客户端显示WebCell内容。 参数列表： - 回调列表： - 代码示例： %accordion%JS%accordion% window.TencentNews.onWebCellReady() %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/13.WebCellAPI/2-onWebCellError.html":{"url":"src/APIs/13.WebCellAPI/2-onWebCellError.html","title":"2. 页面发生错误","keywords":"","body":"页面发生错误 onWebCellError JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ WebCell场景支持 H5页面出错后，主动调用该方法，通知客户端页面出错。客户端会走容错逻辑，尝试隐藏WebCell内容 参数列表： 参数名 类型 必填 说明 content Object 否 'errCode' - 错误码 'errMsg' - 错误信息| 回调列表： - 代码示例： %accordion%JS%accordion% window.TencentNews.onWebCellError() %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/13.WebCellAPI/3-adjustWebViewInfo.html":{"url":"src/APIs/13.WebCellAPI/3-adjustWebViewInfo.html","title":"3. H5需要调整WebCell高度","keywords":"","body":"H5需要调整WebCell高度 adjustWebViewInfo JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ WebCell场景支持 H5页面高度变化后，主动调用该方法，通知客户端页面重新加载。 参数列表： 参数名 类型 必填 说明 aspectRatio Number 是 WebView宽高比 refreshIndex String 否 刷新次数，每次刷新后加1。 needFullWidth Boolean 否 是否使用全部屏幕宽带 回调列表： - 代码示例： %accordion%JS%accordion% window.TencentNews.invoke('adjustWebViewInfo', {\"aspectRatio\" : 6.6}); %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/APIs/13.WebCellAPI/4-onWebCellUIChanged.html":{"url":"src/APIs/13.WebCellAPI/4-onWebCellUIChanged.html","title":"4. H5需要reload页面","keywords":"","body":"H5需要reload页面 onWebCellUIChanged JSAPI ✔ Hippy ✘ MSApplet ✘ Flutter ✘ WebCell场景支持 H5需要reload页面时，主动调用该方法，通知客户端reload该页面。 参数列表： - 回调列表： - 代码示例： %accordion%JS%accordion% window.TencentNews.onWebCellUIChanged() %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/1.通用事件/1-themeChanged.html":{"url":"src/LifeCycles/1.通用事件/1-themeChanged.html","title":"1. 客户端发生日夜间切换","keywords":"","body":"客户端发生日夜间切换 themeChanged JSAPI ✔ Hippy ✔ MSApplet ✔ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 参数列表： - 代码示例： %accordion%JS%accordion% //night & default webCellManager.themeChanged(param) %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/1.通用事件/2-appEnterBackground.html":{"url":"src/LifeCycles/1.通用事件/2-appEnterBackground.html","title":"2. APP进入后台","keywords":"","body":"APP进入后台 appEnterBackground JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： - 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/1.通用事件/3-appEnterForeground.html":{"url":"src/LifeCycles/1.通用事件/3-appEnterForeground.html","title":"3. APP回到前台","keywords":"","body":"APP回到前台 appEnterForeground JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： - 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/1.通用事件/4-loginStatueChanged.html":{"url":"src/LifeCycles/1.通用事件/4-loginStatueChanged.html","title":"4. 客户端登录态变化","keywords":"","body":"客户端登录态变化 loginStatueChanged JSAPI ✔ Hippy ✔ MSApplet ✔ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 参数列表： - 代码示例： %accordion%JS%accordion% webCellManager.loginStatueChanged() %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/1.通用事件/5-nativeDidFinishLoad.html":{"url":"src/LifeCycles/1.通用事件/5-nativeDidFinishLoad.html","title":"5. WebView加载完成","keywords":"","body":"WebView加载完成 nativeDidFinishLoad JSAPI ✔ Hippy ✔ MSApplet ✔ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 安卓：WebView onPageFinish 时调用。 iOS：WKWebView didFinishNavigation 时调用。 参数列表： - 代码示例： %accordion%JS%accordion% webCellManager.nativeDidFinishLoad() %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/1.通用事件/6-updateUserInfo.html":{"url":"src/LifeCycles/1.通用事件/6-updateUserInfo.html","title":"6. 客户端登录态发生变化更新","keywords":"","body":"客户端登录态发生变化更新 updateUserInfo JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 参数列表： 类型 必填 说明 Dictionary 是 同API中 getUserInfo 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/1.通用事件/7-updateConfigInfo.html":{"url":"src/LifeCycles/1.通用事件/7-updateConfigInfo.html","title":"7. 客户端状态更新","keywords":"","body":"客户端状态更新 updateConfigInfo JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 比如网络、日夜间、字体大小等等 参数列表： 类型 必填 说明 Dictionary 是 同API中 getConfigInfo 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/2.频道事件/1-channelDidAppear.html":{"url":"src/LifeCycles/2.频道事件/1-channelDidAppear.html","title":"1. 所在频道显示","keywords":"","body":"所在频道显示 channelDidAppear JSAPI ✔ Hippy ✔ MSApplet ✔ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 参数列表： - 代码示例： %accordion%JS%accordion% webCellManager.channelDidAppear() %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/2.频道事件/2-channelDidDisappear.html":{"url":"src/LifeCycles/2.频道事件/2-channelDidDisappear.html","title":"2. 所在频道隐藏","keywords":"","body":"所在频道隐藏 channelDidDisappear JSAPI ✔ Hippy ✔ MSApplet ✔ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 参数列表： - 代码示例： %accordion%JS%accordion% webCellManager.channelDidDisappear() %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/2.频道事件/3-reloadListPage.html":{"url":"src/LifeCycles/2.频道事件/3-reloadListPage.html","title":"3. reload当前列表","keywords":"","body":"reload当前列表 reloadListPage JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 仅Hippy中实现 参数列表： 类型 必填 说明 Dictionary 是 具体页面id 比如： {“pageId”:”mine_like_video”} 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/2.频道事件/4-onAttach.html":{"url":"src/LifeCycles/2.频道事件/4-onAttach.html","title":"4. Cell Attach到列表","keywords":"","body":"Cell Attach到列表 onAttach JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 典型场景：列表上下滑动时，webcell从可视区域之外，滑入可视区域时，该方法被回调。 hippy中有参数，JS中无参数 参数列表： 类型 必填 说明 Dictionary Hippy中是，其他否 index (位置) 比如： {“index”:2} 代码示例： %accordion%JS%accordion% webCellManager.onAttach() %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/2.频道事件/5-onDetach.html":{"url":"src/LifeCycles/2.频道事件/5-onDetach.html","title":"5. Cell从列表Detach","keywords":"","body":"Cell从列表Detach onDetach JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 典型场景：列表上下滑动时，webcell从可视区域，滑出可视区域时，该方法被回调。 hippy中有参数，JS中无参数 参数列表： 类型 必填 说明 Dictionary Hippy中是，其他否 index (位置) 比如： {“index”:2} 代码示例： %accordion%JS%accordion% webCellManager.onDetach() %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/2.频道事件/6-channelDidRefreshData.html":{"url":"src/LifeCycles/2.频道事件/6-channelDidRefreshData.html","title":"6. WebCell所在频道刷新","keywords":"","body":"WebCell所在频道刷新 channelDidRefreshData JSAPI ✔ Hippy ✔ MSApplet ✔ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 参数列表： 参数名 类型 必填 说明 refreshType String 'up' - 上拉加载 'down' - 下拉刷新 'reset' - 列表自动刷新 refreshIndex String 刷新次数，每次刷新后加1。 代码示例： %accordion%JS%accordion% webCellManager.channelDidRefreshData(refreshType，refreshIndex) %/accordion% %accordion%Hippy%accordion% %/accordion% %accordion%MSApplet%accordion% %/accordion% %accordion%Flutter%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/3.底层页事件/1-pageOnShow.html":{"url":"src/LifeCycles/3.底层页事件/1-pageOnShow.html","title":"1. 页面显示","keywords":"","body":"页面显示 pageOnShow JSAPI ✔ Hippy ✔ MSApplet ✔ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 Hippy中有参数，JS中无参数 参数列表： 类型 必填 说明 Dictionary Hippy中是，其他否 具体页面id 比如： {“pageId”:”mine_like_video”} 代码示例： %accordion%JS%accordion% webPageManager.pageOnShow() %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/3.底层页事件/2-pageOnHide.html":{"url":"src/LifeCycles/3.底层页事件/2-pageOnHide.html","title":"2. 页面隐藏","keywords":"","body":"页面隐藏 pageOnHide JSAPI ✔ Hippy ✔ MSApplet ✘ Flutter ✘ 如需要收到这些回调，需要主动注册该函数 Hippy中有参数，JS中无参数 参数列表： 类型 必填 说明 Dictionary Hippy中是，其他否 具体页面id 比如： {“pageId”:”mine_like_video”} 代码示例： %accordion%JS%accordion% webPageManager.pageOnHide() %/accordion% %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/LifeCycles/4.其它/1-updateEditStatus.html":{"url":"src/LifeCycles/4.其它/1-updateEditStatus.html","title":"1. 列表编辑模式","keywords":"","body":"列表编辑模式 updateEditStatus JSAPI ✘ Hippy ✔ MSApplet ✘ Flutter ✘ 仅Hippy中支持，收藏历史等列表 参数列表： 类型 必填 说明 Dictionary 是 pageId:页面id , onEdit:1-编辑模式 0-普通模式， enable 1-允许点击 0-禁止点击 回调列表： - 代码示例： %accordion%Hippy%accordion% %/accordion% 常见问题： Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "},"src/Design/IconFont.html":{"url":"src/Design/IconFont.html","title":"预览","keywords":"","body":"Iconfont预览 Copyright © 腾讯新闻 2020 all right reserved， 该文章修订时间： 2020-08-12 17:19:59 "}}